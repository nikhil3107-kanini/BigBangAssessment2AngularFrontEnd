<app-header></app-header>

<div class="main-content" style="background-color: #f8f9fa; padding: 20px;">
    <div class="container mt-5" *ngIf="role === 'admin' || role === 'Admin'">
        <h1 class="mb-4 text-center font-weight-bold">Doctors Details</h1>

        <!-- Update Form -->
        <div *ngIf="selectedDoctor">
            <form (submit)="updateDoctorData()" class="border rounded p-4 mb-4">
                <h3 class="mb-4">Update Doctor Details</h3>
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" class="form-control" id="name" [(ngModel)]="selectedDoctor.name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="specialty">Specialty:</label>
                    <input type="text" class="form-control" id="specialty" [(ngModel)]="selectedDoctor.specialty" name="specialty" required>
                </div>
                <div class="form-group">
                    <label for="address">Address:</label>
                    <input type="text" class="form-control" id="address" [(ngModel)]="selectedDoctor.address" name="address" required>
                </div>
                <div class="form-group">
                    <label for="phoneNumber">Phone Number:</label>
                    <input type="text" class="form-control" id="phoneNumber" [(ngModel)]="selectedDoctor.phoneNumber" name="phoneNumber" required>
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" class="form-control" id="email" [(ngModel)]="selectedDoctor.email" name="email" required>
                </div>
                <div class="text-center">
                    <button type="submit" class="btn btn-primary mr-2">Save</button>
                    <button type="button" class="btn btn-secondary" (click)="cancelUpdate()">Cancel</button>
                </div>
            </form>

        </div><br>

        <div class="table-responsive">
            <table class="table table-bordered table-hover">
                <thead class="bg-primary text-white">
                    <tr>
                        <th>Doctor ID</th>
                        <th>Name</th>
                        <th>Specialty</th>
                        <th>City</th>
                        <th>Phone Number</th>
                        <th>Email</th>
                        <th>Status</th>
                        <th>Operatins</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let doctor of doctors">
                        <td>{{doctor.doctorId}}</td>
                        <td>{{ doctor.name }}</td>
                        <td>{{ doctor.specialty }}</td>
                        <td>{{ doctor.address }}</td>
                        <td>{{ doctor.phoneNumber }}</td>
                        <td>{{ doctor.email }}</td>
                        <td><span><button class="btn" [class.active]="doctor.isActive"
        [class.inactive]="!doctor.isActive" (click)="ChangeStatus(doctor.doctorId)">{{doctor.isActive ? 'active' :
        'inactive'}} </button></span></td>


                        <td>
                            <button class="btn btn-sm btn-info" (click)="updateDoctor(doctor)">Update</button>
                            <button class="btn btn-sm btn-danger" (click)="deleteDoctor(doctor.doctorId)">Delete</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div><br>
    <div *ngIf="role === 'patient' || role === 'Doctor' || role === 'doctor' || role ==='Patient'">
        <div class="alert alert-danger text-center" role="alert">
            <h2 class="font-weight-bold">You don't have access</h2>
        </div>
    </div><br>
</div>
<section>
    <footer>
        <p>&copy; 2023 Hospital Paradise. All rights reserved.</p>
    </footer>
</section>